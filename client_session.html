<!DOCTYPE html>
<html>
<head>
<title>client_session.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: "Segoe WPC", "Segoe UI", "SFUIText-Light", "HelveticaNeue-Light", sans-serif, "Droid Sans Fallback";
	font-size: 14px;
	padding: 0 12px;
	line-height: 22px;
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}


body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	color: #4080D0;
	text-decoration: none;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

h1 code,
h2 code,
h3 code,
h4 code,
h5 code,
h6 code {
	font-size: inherit;
	line-height: auto;
}

a:hover {
	color: #4080D0;
	text-decoration: underline;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left: 5px solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 14px;
	line-height: 19px;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

.mac code {
	font-size: 12px;
	line-height: 18px;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

/** Theming */

.vscode-light,
.vscode-light pre code {
	color: rgb(30, 30, 30);
}

.vscode-dark,
.vscode-dark pre code {
	color: #DDD;
}

.vscode-high-contrast,
.vscode-high-contrast pre code {
	color: white;
}

.vscode-light code {
	color: #A31515;
}

.vscode-dark code {
	color: #D7BA7D;
}

.vscode-light pre:not(.hljs),
.vscode-light code > div {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre:not(.hljs),
.vscode-dark code > div {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre:not(.hljs),
.vscode-high-contrast code > div {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

.vscode-light blockquote,
.vscode-dark blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.vscode-high-contrast blockquote {
	background: transparent;
	border-color: #fff;
}
</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family:  "Meiryo", "Segoe WPC", "Segoe UI", "SFUIText-Light", "HelveticaNeue-Light", sans-serif, "Droid Sans Fallback";
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

</head>
<body>
<h1 id="the-client-session-window">The Client session window</h1>
<p><img src="./images/session_area_receive.png" alt=""></p>
<p>With the client window of VSCP works it is possible to open communication sessions that either connect</p>
<ul>
<li>Directly to a Level I (CANAL) hardware driver. Depending on the driver, one or more sessions can be opened to the driver. The normal is however one.</li>
<li>Open a session to a local or remote VSCP node or daemon which in turn have drivers connected to it. The node should export the <a href="https://grodansparadis.gitbooks.io/the-vscp-specification/vscp_over_tcp_ip.html">VSCP tcp/ip link protocol</a>.</li>
</ul>
<p>To open a new session windoow use the File/New VSCP Client window. You can now select a predefined interface to connect to or create a new.</p>
<p>Below is a picture of how this window looks on Ubuntu Linux</p>
<p><img src="./images/vscpworks_new_session.jpg" alt=""></p>
<p>Remote item interfaces have <strong>“TCP/IP:”</strong> in front of them and local interface items or direct connection items to Level I (CANAL) drivers have <strong>“CANAL:”</strong> in front of them.</p>
<p>The first type always listed is the <strong>“Unconnected Mode”</strong> wich opens the window without a connection either to a remote server or a Level I (CANAL) driver. This is useful when one wants to investigate saved session data.</p>
<ul>
<li>With the <strong>Add</strong> button a new TCP/IP or Level I (CANAL) interface can be added.</li>
<li>With the <strong>Edit</strong> button an already available interface setting can be edited/changed.</li>
<li>With the <strong>Remove</strong> button an already available interface can be removed.</li>
</ul>
<p>The image below shows how the Level I (CANAL) session edit window looks like on Ubunto Linux</p>
<p><img src="./images/vscpwors_canal_session.jpg" alt=""></p>
<p>Standard Level I (CANAL) interface settings is available here.</p>
<ul>
<li><strong>Description</strong> - Set a descriptive name here for use in listboxes etc.</li>
<li><strong>Path to Driver</strong> - The box to the right allows location to be found on the system.</li>
<li><strong>Device configuration string</strong> - The string used to configure the driver.</li>
<li><strong>Flags</strong> - The numerical flag value used to configure the driver.</li>
</ul>
<p>A Level I (CANAL) driver can have an internal XML file stored that describes the configuration string. If the driver has such information the button to the right of the configuration string can be used to run a wizard that helps in setting up both the flags field and the configuration field in an easy way without needing to find the drivers full documentation.</p>
<p>The image below shows how the remote TCP/IP server edit window looks like on Ubuntu Linux</p>
<p><img src="./images/vscpworks_remote_server.jpg" alt=""></p>
<p>The remote TCP/IP interface needs the following parameters to be defined and set</p>
<ul>
<li><strong>Description</strong> - Set a descriptive name here for use in listboxes etc.</li>
<li><strong>Server URL</strong> - The hostname for the remote VSCP tcp/ip node.</li>
<li><strong>Server port</strong> - The port that the remote VSCP tcp/ip node is listening on. Normaly 9598.</li>
<li><strong>Username</strong> - Username used to login to the remote node.</li>
<li><strong>Password</strong> - Password used to login to the remote node. Leave blank to force VSCP Works to ask before connecting.</li>
<li><strong>GUID</strong> - This is the globally unique id (GUID) for the rmote interface and it should normally be set to all zero for a standard remote connection. In this case a sent event from our client will be sent on all aailable interfaces on the remote node. If a valid interface GUID is entered here (a GUID for the remote nodes interface) all sent events will only go to devices on the selected interface. As a help to set the correct interface the <strong>Get Interface</strong> button is available which will fetch all available interfaces from the remote node and allow you to slect one of them.</li>
</ul>
<p>Use the <strong>Set Filter</strong> button to set an incoming filter fpr this session. Only events that satisfy the filter/mask combination will be received from the remote node.</p>
<p>Use the <strong>Test Connection</strong> button to test the connection to the remote node.</p>
<hr>
<p>Selecting one of the interfaces and pressing OK (or double clicking the line) opens the session window</p>
<p>Ubuntu Linux session window</p>
<p><img src="./images/vscpworks_session.jpg" alt=""></p>
<p>The session window is divided into three main areas. The upper left area is the <strong>receive list</strong>, the upper right area (when a row is selected in the receive list) is the <strong>information area</strong> and the lower area is the <strong>transmission list</strong>.</p>
<h3 id="receive-list">Receive List</h3>
<p>Events that are received from a remote node is listed in the receive list (Marked with <strong>RX</strong>) but also transmitted events are showed here (marked with *<em>TX</em>).</p>
<p>Currently a chronological view is available (message log). Other views may follow in the future.</p>
<p>By right clicking on the receive list some functionality will be available</p>
<ul>
<li><strong>Clear all receive events</strong> which lets you removve all events in the receive session window. The command is alos available under the <strong>Edit</strong> menu.</li>
<li><strong>Load VSCP events from file</strong> which lets you load saved events from disk to the receive session window. You will get a question asking if you want to remove all events currently in the receive session window brefore the new events is loaded from disk. The command is also available under the <strong>File</strong> menu.</li>
<li><strong>Save VSCP events to file</strong> which lets you save (selected or all) VSCP events to a file on disk. The command is also available under the <strong>File</strong> menu. On Linux systems you may need to select the pen icon in the upper left top of the save file window to write a filename (see below).</li>
</ul>
<p><img src="./images/session_rcv_save.png" alt=""></p>
<p>In the menus you can</p>
<ul>
<li>Edit the selected row.</li>
<li>Add a note for the selected row.</li>
<li>Copy/Cut/paste rows.</li>
<li>Transmit one or many selected rows.</li>
<li>Edit and transmit one or many selected rows.</li>
<li>Save selected row(s) as transmission objects.</li>
<li>Load VSCP events from file.</li>
<li>Save VSCP events from file.</li>
</ul>
<h4 id="filter-received-events">Filter received events</h4>
<p>Sometimes the inflow of received events can be very large and at the same time you are only interested in some specific events. In this case you can set a receive filter.</p>
<p>Receive filters can be set in two ways</p>
<ul>
<li>You can decide which events that should be received.</li>
<li>You can decide which events that should not be received.</li>
</ul>
<p>Well you can actually do both at the same time.</p>
<p>The first thing you have to do to use receive event filtering is to define a filter. You do this under the menu</p>
<pre><code>/Settings/Set filter...
</code></pre>
<p><img src="./images/filter_menu.jpg" alt=""></p>
<p>which will bring up this dialog window.</p>
<p><img src="./images/filter_dialog.jpg" alt=""></p>
<p>Here you can define the events the filter should consist off.</p>
<ul>
<li>Use *<em>Add display event...</em> to add events that you want to be displayed. That is an event listed here that is received will be listed in the receive list.</li>
<li>Use <strong>Add filter event...</strong> to add events that you don't want to be displayed. An event lsted here that is received will not be listed in the receive list.</li>
</ul>
<p>You can allow a full class of events to be received by adding it with type &quot;general&quot; to the <em>add display event...</em>. This is tru also for the filter.</p>
<p><strong>Warning!</strong> You can end up getting nothing in the receive list if you add contaradictory settings in the two list boxes.</p>
<p>You can load save display/filter lists to a file on disk. Select the appropriate box before load/save. To clearify</p>
<ul>
<li>If <strong>display</strong> is selected and you press <strong>save</strong>, the content in the display list will be saved to disk.</li>
<li>If <strong>filter</strong> is selected and you press <strong>save</strong>, the content in the filter list will be saved to disk.</li>
<li>If <strong>display</strong> is selected and you press <strong>load</strong>, the content in the display list will be loaded with the content of the selected file on disk.</li>
<li>If <strong>filter</strong> is selected and you press <strong>save</strong>, the content in the filter list will be loaded with the content of the selected file on disk.</li>
</ul>
<p><strong>Enable</strong> enables (selected) or disables the set filter. There is also a button in the receive windows that does the same thing</p>
<p><img src="./images/filter_enable.png" alt=""></p>
<p>When in it's in-position the filter is active else it is inactive.</p>
<h3 id="transmission-area">Transmission area</h3>
<p><img src="./images/session_area_transmission.png" alt=""></p>
<p>In the transmission area list rows are available that can be transmitted to the connected remote node or driver. It is possible to load and save transmission row sets which can be handy in many situations. It is possible to creat rows that is automatically transmitted with a selected period expressed in milliseconds and which continue to do so as long as they are active. It is also possible to create transmission row objects that automatically send out one or more event when another event is received.</p>
<p>On the right of the Transmission object list is a set of buttons</p>
<p><img src="./images/vscp_transmission_row_buttons_left.jpg" alt=""></p>
<p>that have functionality that control rows in the list. You can reach this functionality also by tight clicking on a row.</p>
<ul>
<li>The top button <strong>add a new transmission row</strong>.</li>
<li>The second button <strong>edit a selected row item</strong>-</li>
<li>The third button <strong>delete a selected row item</strong>.</li>
</ul>
<ul>
<li>The forth button <strong>load transmission item rows</strong> from a file on disk.</li>
<li>The fifth button <strong>save the current (selected) rows</strong> to a file on disk.</li>
</ul>
<p>On the right is a single button</p>
<p><img src="./images/vscp_transmission_row_buttons_right.jpg" alt=""></p>
<p>This button is used to transmit the events of the selected row(s). A single row can also be sent by double clicking on it.</p>
<p>Additional functionality is available by right clicking in the transmission object list.</p>
<ul>
<li>Transmit selected row(s).</li>
<li>Add/edit/Delete rows.</li>
<li>Clone row.</li>
<li>Enable/disable periodic transmission.</li>
</ul>
<p>The transmission row edit window looks like this on Ubuntu Linux</p>
<p><img src="./images/vscp_transmission_row_edit.jpg" alt=""></p>
<p>Standard settings for events are available here. To use the GUID assigned by the daemon as the originator for the event leave the GUID set to all zeros.</p>
<ul>
<li>
<p>Set a name for the transmission item for reference.</p>
</li>
<li>
<p>Select the class and the type.</p>
</li>
<li>
<p>Select the priority. &quot;Normal&quot; is usually a good choice.</p>
</li>
<li>
<p>Set the data for the event. This is just a comma separated list of hexadecimal or decimal values (mixed if needed). Hexadecimal value is entered with <strong>0x</strong> in front of them.</p>
</li>
<li>
<p>Count is the number of events too send when the transmission row is triggered.</p>
</li>
<li>
<p>Period is the time in milliseconds between automatically transmitted events.</p>
</li>
<li>
<p>Trigger is a selected trigger among the available triggers.</p>
</li>
</ul>
<p>When done click OK to save you settings and you get a new transmission row added to the transmisison area.</p>
<h3 id="information-area">Information area</h3>
<p><img src="./images/session_info_area.png" alt=""></p>
<p>Information about a selected event in the receive list is shown in the information area.</p>
<p><img src="./images/info_area_closeup.png" alt=""></p>
<p>Here you get information on</p>
<ul>
<li>When the veent is received.</li>
<li>Class/type information.</li>
<li>Raw data.</li>
<li>For most events decoded data.</li>
<li>Sender GUID.</li>
<li>Head code</li>
<li>Timestamp.</li>
</ul>
<p>The event here is <a href="https://grodansparadis.gitbooks.io/the-vscp-specification/class1.measurement.html#type6-0x06-temperature">CLASS1_MEASUREMENT. Type=6,Temperature</a></p>
<p>You see that in the measurement example aboove that the temperature is expressed in the unit it was sent in (degrees Celsius). The measure event is decoded and you see the unit and the data type (normalized integer (nint)  used to code the measurement value in this case. You also see the measurement originate from sensor 1 of the remote device.</p>
<p>A <a href="https://grodansparadis.gitbooks.io/the-vscp-specification/class1.information.html#type--3-0x03-on">CLASS1_INFORMATION. Type=5,Turn-on</a> event looks like this</p>
<p><img src="./images/information_area_turnon.png" alt=""></p>
<p>You can load events from disk and investigate them at a later time if you like.</p>
<h3 id="the-session-connectdisconnect-button">The session connect/disconnect button</h3>
<p><img src="./images/session_button_connect.png" alt=""></p>
<p>You can use the session connect/disconnect button to connect or disconnect the remote node. This may be useful if you have a lot of events coming in and you want to stop and investigate them. Just tenopraraly disconect the session do your investoagtion and conect again when you are ready. No need to clos ethe session window.</p>

</body>
</html>
